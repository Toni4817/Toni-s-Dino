<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Toni's Dino</title>
  <style>
    body { margin: 0; overflow: hidden; background: #f7f7f7; }
    #gameArea { position: relative; width: 100vw; height: 100vh; overflow: hidden; }
    #dino {
      position: absolute; bottom: 0; left: 50px;
      width: 40px; height: 40px; background: #333;
    }
    .obstacle {
      position: absolute; bottom: 0;
      width: 20px; height: 40px; background: #555;
    }
    #score {
      position: absolute; top: 10px; left: 10px;
      font-family: sans-serif; font-size: 20px;
    }
  </style>
</head>
<body>
  <div id="gameArea">
    <div id="dino"></div>
    <div id="score">Score: 0</div>
  </div>
  <script>
    const dino = document.getElementById('dino');
    const gameArea = document.getElementById('gameArea');
    const scoreEl = document.getElementById('score');
    let isJumping = false, score = 0, obstacles = [];

    function jump() {
      if (isJumping) return;
      isJumping = true;
      let up = 0;
      const interval = setInterval(() => {
        if (up >= 100) {
          clearInterval(interval);
          const down = setInterval(() => {
            if (up <= 0) {
              clearInterval(down);
              isJumping = false;
            }
            up -= 5;
            dino.style.bottom = up + 'px';
          }, 20);
        }
        up += 5;
        dino.style.bottom = up + 'px';
      }, 20);
    }

    function createObstacle() {
      const obstacle = document.createElement('div');
      obstacle.classList.add('obstacle');
      obstacle.style.left = '100vw';
      gameArea.appendChild(obstacle);
      obstacles.push(obstacle);
    }

    function moveObstacles() {
      obstacles.forEach((obs, i) => {
        let left = parseInt(obs.style.left);
        if (left < -20) {
          obs.remove();
          obstacles.splice(i, 1);
          score++;
          scoreEl.innerText = 'Score: ' + score;
        } else {
          obs.style.left = (left - 5) + 'px';
          if (left < 90 && left > 50 && parseInt(dino.style.bottom) < 40) {
            alert('Game Over! Score: ' + score);
            location.reload();
          }
        }
      });
    }

    setInterval(() => {
      if (Math.random() < 0.05) createObstacle();
      moveObstacles();
    }, 20);

    document.addEventListener('keydown', e => {
      if (e.code === 'Space' || e.code === 'ArrowUp') jump();
    });
  </script>
</body>
</html>
